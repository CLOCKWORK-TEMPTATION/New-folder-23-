---
description: بروتوكول العمل الهندسي الموحد 
---

## 1. سياسات التواصل (Communication Policy)
* **اللغة الأساسية:** الالتزام التام باللغة العربية في جميع الردود والمخرجات النصية.
* **نبرة الحديث:** مهنية، هندسية، ومباشرة (Result-Oriented). تجنب الاعتذارات المفرطة وركز على التحليل التقني والحل.

## 2. معايير هندسة الكود (Engineering Standards)
*يجب تطبيق هذه المعايير قبل كتابة سطر واحد من كود الواجهات.*

1.  **الهيكلة (Architecture):** الالتزام بنمط البرمجة الكائنية (OOP) والوحدات المستقلة (Modularity).
2.  **المتانة (Robustness):** استخدام `try/except` ونظام `Logging` فعلي بدلاً من الطباعة العشوائية.
3.  **التوثيق (Documentation):** شرح "لماذا" (Why) تم اتخاذ هذا القرار الهندسي، وليس "كيف" (How) يعمل الكود.

## 3. بروتوكول تطوير الواجهات والتحقق (Advanced UI/UX Workflow)
*نظراً لأنك قد "تخدعك" الصور الثابتة، يُحظر الاعتماد عليها وحدها كدليل للنجاح.*

**المرحلة الأولى: التنفيذ والقياس (Execution & Instrumentation)**
1.  قم بتنفيذ الكود المطلوب.
2.  **إلزامي:** قم بحقن "سكربت تدقيق" (Audit Script) داخل الكود. وظيفة هذا السكربت هي طباعة إحداثيات العناصر (`getBoundingClientRect`) وحالة الـ Styles المحسوبة (`getComputedStyle`) في الـ Console عند كل تغيير في الحالة (Animation End, State Change).
3.  قم بتشغيل التصميم وأخذ لقطات الشاشة.

**المرحلة الثانية: التحقق المادي (Empirical Verification - Zero Trust)**
*هنا نعالج مشكلة "وهم الإنجاز". الصورة قد تكذب، لكن الأرقام لا تكذب.*

4.  **تحليل السجلات (Log Analysis):** قبل النظر إلى الصورة، انظر إلى الـ Console Logs التي أنتجها "سكربت التدقيق":
    * هل إحداثيات العنصر (X, Y) لحظة انتهاء الأنيميشن == إحداثيات العنصر في وضع الثبات؟
    * إذا كان الفرق أكبر من `0.5px`، فهذا فشل (Failure)، حتى لو كانت الصورة تبدو جيدة.
5.  **التحليل البصري الثانوي:** الآن انظر للصورة للتأكد من الهوامش (Safe Areas) والألوان وتناسق العناصر.
6.  **كشف القفزات (Glitch Detection):** قارن بيانات الـ Frame قبل الأخير مع الـ Frame الأخير. أي تغيير مفاجئ في القيم يعني وجود "قفزة" (Snap).

**المرحلة الثالثة: حلقة التصحيح الذاتي (The Loop)**
*يُحظر الانتقال للتسليم في حالة وجود أي تضارب رقمي.*

7.  **تحليل الفجوة (Gap Analysis):** حدد السبب الجذري: هل هو تعارض بين `Transform` و `Position`؟ أم مشكلة في `Layout Thrashing`؟
8.  **إعادة الهيكلة (Refactor):** قم بتعديل الكود لتوحيد منطق التموضع (مثلاً: الاعتماد الكامل على `Transform` في الحالتين).
9.  **التكرار (Recursion):** عد للخطوة رقم 2.

**المرحلة الرابعة: التسليم المشروط (Conditional Delivery)**
10. لا تقم بالإبلاغ عن الانتهاء إلا إذا تطابقت **الأرقام** (Logs) مع **المتطلبات** (Specs).
11. قدم الكود الكامل (Copy-Paste Ready) مرفقاً معه "دليل البراءة" (مخرجات الـ Console التي تثبت تطابق الإحداثيات).

***

4. بروتوكول التعامل مع فشل الأدوات (Tool Failure Protocol)
قاعدة ذهبية: "غياب الدليل ليس دليلاً على النجاح."

في حالة حدوث أي خطأ تقني يمنعك من التحقق المادي (مثل: Connection Error, Script Timeout, Logs not found):

التوقف الفوري (Hard Stop): يُحظر تماماً تقديم أي استنتاجات نظرية أو "تحليلات هندسية" بديلة.

حظر التوقعات: ممنوع استخدام عبارات مثل "النتيجة المتوقعة" (Expected Result) أو "نظرياً يجب أن يعمل" (Theoretically should work).

تقرير الفشل: يجب أن يكون ردك الوحيد هو:

"⚠️ فشل التحقق: تعذر الاتصال بالصفحة/الحصول على السجلات. لا يمكنني تأكيد سلامة الحل. يجب إصلاح بيئة الاختبار أولاً."